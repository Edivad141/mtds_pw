<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genre Prediction</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="horus.css">
    <style>
        .horizontal-trigger {
            height: 100vh; /* Adjust height to trigger the horizontal scroll */
        }
        .horizontal-section {
            display: flex;
            overflow: hidden;
            position: relative;
            height: 100vh; /* Adjust height for full-screen horizontal section */
        }
        .list {
            display: flex;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Genre Prediction</h1>
        <form id="prediction-form">
            <label for="text-input">Enter text:</label>
            <input type="text" id="text-input" name="text">
            <button type="submit">Predict Genre</button>
        </form>
        <div id="result"></div>
        <div id="book"></div>
        <div id="description"></div>
    </div>

    <div class="horizontal-trigger"></div>
    <div class="horizontal-section">
        <div class="list">
            <div class="horizontal-scroll-item">
                <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Noun_Robot_1749584.svg" alt="Robot">
                <img class="popup-image" src="https://via.placeholder.com/200x300.png" alt="Popup Image">
            </div>
            <div class="horizontal-scroll-item">
                <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Noun_Robot_1749584.svg" alt="Robot">
                <img class="popup-image" src="https://via.placeholder.com/200x300.png" alt="Popup Image">
            </div>
            <div class="horizontal-scroll-item">
                <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Noun_Robot_1749584.svg" alt="Robot">
                <img class="popup-image" src="https://via.placeholder.com/200x300.png" alt="Popup Image">
            </div>
            <div class="horizontal-scroll-item">
                <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Noun_Robot_1749584.svg" alt="Robot">
                <img class="popup-image" src="https://via.placeholder.com/200x300.png" alt="Popup Image">
            </div>
            <div class="horizontal-scroll-item">
                <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Noun_Robot_1749584.svg" alt="Robot">
                <img class="popup-image" src="https://via.placeholder.com/200x300.png" alt="Popup Image">
            </div>
        </div>
    </div>

    <div class="content">
        <h1>Vertical Scroll Content</h1>
        <p>Once you finish scrolling the horizontal section, the page will continue with vertical scrolling content. Add your additional content here.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vehicula libero eget lorem ultricies, vitae vehicula turpis pharetra. Nam malesuada dolor eu tellus pharetra, id vestibulum est placerat. Curabitur aliquam sem eget massa interdum, et venenatis magna fermentum. Phasellus fermentum, sapien ut fermentum congue, libero magna efficitur tortor, ut scelerisque elit libero non erat. Cras feugiat odio vel suscipit efficitur. Donec luctus convallis urna, nec scelerisque libero. Donec id efficitur velit, a aliquam risus. Morbi mollis dui quis nulla bibendum feugiat. Fusce sit amet arcu ligula. Nulla et erat ac tortor tincidunt laoreet nec id sapien. Nullam vulputate orci id vehicula pellentesque. Sed ac libero eget nunc pharetra venenatis. Donec et eros non lorem venenatis vehicula. Aenean ac posuere odio.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vehicula libero eget lorem ultricies, vitae vehicula turpis pharetra. Nam malesuada dolor eu tellus pharetra, id vestibulum est placerat. Curabitur aliquam sem eget massa interdum, et venenatis magna fermentum. Phasellus fermentum, sapien ut fermentum congue, libero magna efficitur tortor, ut scelerisque elit libero non erat. Cras feugiat odio vel suscipit efficitur. Donec luctus convallis urna, nec scelerisque libero. Donec id efficitur velit, a aliquam risus. Morbi mollis dui quis nulla bibendum feugiat. Fusce sit amet arcu ligula. Nulla et erat ac tortor tincidunt laoreet nec id sapien. Nullam vulputate orci id vehicula pellentesque. Sed ac libero eget nunc pharetra venenatis. Donec et eros non lorem venenatis vehicula. Aenean ac posuere odio.</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/ScrollTrigger.min.js"></script>
    <script>
        // Register the ScrollTrigger plugin
        gsap.registerPlugin(ScrollTrigger);

        // Calculate the scroll distance
        let horizontalItem = document.querySelectorAll(".horizontal-scroll-item");
        let horizontalSection = document.querySelector(".horizontal-section");
        let moveDistance;

        function calculateScroll() {
            let itemsInView = 3;
            let scrollSpeed = 1.2;

            if (window.matchMedia("(max-width: 479px)").matches) {
                itemsInView = 1;
                scrollSpeed = 1.2;
            } else if (window.matchMedia("(max-width: 767px)").matches) {
                itemsInView = 1;
                scrollSpeed = 1.2;
            } else if (window.matchMedia("(max-width: 991px)").matches) {
                itemsInView = 2;
                scrollSpeed = 1.2;
            }

            let moveAmount = horizontalItem.length - itemsInView;
            let minHeight = scrollSpeed * horizontalItem[0].offsetWidth * horizontalItem.length;

            if (moveAmount <= 0) {
                moveAmount = 0;
                minHeight = 0;
            } else {
                horizontalSection.style.height = "200vh";
            }

            moveDistance = horizontalItem[0].offsetWidth * moveAmount;
            horizontalSection.style.minHeight = minHeight + "px";
        }

        calculateScroll();
        window.onresize = function() {
            calculateScroll();
        };

        let tl = gsap.timeline({
            scrollTrigger: {
                trigger: ".horizontal-trigger",
                start: "top top",
                end: "bottom top",
                invalidateOnRefresh: true,
                scrub: 1
            }
        });

        tl.to(".horizontal-section .list", {
            x: () => -moveDistance,
            duration: 1
        });
    </script>
</body>
</html>
